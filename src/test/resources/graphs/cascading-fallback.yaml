description: >
  Three targets share the same prefix. All 3 share path A.
  Targets 2 and 3 also share path B. Target 3 has a unique path C.
  Claiming forces each target to discover the next available path:
  target1 gets A, target2 gets B, target3 gets C.

roots:
  - type: JniGlobal
    objects: [root]

objects:
  root:
    class: com.example.Root
    fields:
      a: a1
  a1:
    class: com.example.A1
    fields:
      a: a2
  a2:
    class: com.example.A2
    fields:
      pa: pathA_node
      pb: pathB_node
      pc: pathC_node
  pathA_node:
    class: com.example.PathA
    fields:
      b1: pathA_branch1
      b2: pathA_branch2
      b3: pathA_branch3
  pathA_branch1:
    class: com.example.PathABranch1
    fields:
      target: target1
  pathA_branch2:
    class: com.example.PathABranch2
    fields:
      target: target2
  pathA_branch3:
    class: com.example.PathABranch3
    fields:
      target: target3
  pathB_node:
    class: com.example.PathB
    fields:
      b2: pathB_branch2
      b3: pathB_branch3
  pathB_branch2:
    class: com.example.PathBBranch2
    fields:
      target: target2
  pathB_branch3:
    class: com.example.PathBBranch3
    fields:
      target: target3
  pathC_node:
    class: com.example.PathC
    fields:
      b3: pathC_branch3
  pathC_branch3:
    class: com.example.PathCBranch3
    fields:
      target: target3

targets: [target1, target2, target3]
target_class: com.example.Target

# target1: walks pathA_branch1 -> pathA_node -> a2 -> a1 -> root. Claims pathA_branch1, pathA_node.
# target2: pathA_branch2 -> pathA_node (claimed) dead end. Walks pathB_branch2 -> pathB_node -> a2 -> a1 -> root. Claims pathB_branch2, pathB_node.
# target3: pathA_branch3 -> pathA_node (claimed), pathB_branch3 -> pathB_node (claimed). Walks pathC_branch3 -> pathC_node -> a2 -> a1 -> root.
expected_path_count: 3
expected_paths:
  - "Root[JniGlobal] -> com.example.Root.a -> com.example.A1.a -> com.example.A2.pa -> com.example.PathA.b1 -> com.example.PathABranch1.target -> com.example.Target"
  - "Root[JniGlobal] -> com.example.Root.a -> com.example.A1.a -> com.example.A2.pb -> com.example.PathB.b2 -> com.example.PathBBranch2.target -> com.example.Target"
  - "Root[JniGlobal] -> com.example.Root.a -> com.example.A1.a -> com.example.A2.pc -> com.example.PathC.b3 -> com.example.PathCBranch3.target -> com.example.Target"
